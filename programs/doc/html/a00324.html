<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>GravImage: montepython.importance_sampling Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GravImage
   </div>
   <div id="projectbrief">Mass modelling tool for spherical and disk-like structures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00319.html">montepython</a></li><li class="navelem"><a class="el" href="a00324.html">importance_sampling</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">montepython.importance_sampling Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a00c2a268603b9239d08f870fdc381212"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00324.html#a00c2a268603b9239d08f870fdc381212">run</a></td></tr>
<tr class="memdesc:a00c2a268603b9239d08f870fdc381212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performing the Importance Sampling.  <a href="#a00c2a268603b9239d08f870fdc381212">More...</a><br/></td></tr>
<tr class="separator:a00c2a268603b9239d08f870fdc381212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff12e7e8dcdbe63d7b6fcf2369fa0368"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00324.html#aff12e7e8dcdbe63d7b6fcf2369fa0368">recover_new_experiments</a></td></tr>
<tr class="memdesc:aff12e7e8dcdbe63d7b6fcf2369fa0368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the input, extract the additional likelihoods.  <a href="#aff12e7e8dcdbe63d7b6fcf2369fa0368">More...</a><br/></td></tr>
<tr class="separator:aff12e7e8dcdbe63d7b6fcf2369fa0368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accfd82e813a41925f34f063cdbd1e83d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00324.html#accfd82e813a41925f34f063cdbd1e83d">translate_chain</a></td></tr>
<tr class="memdesc:accfd82e813a41925f34f063cdbd1e83d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate the input to the output.  <a href="#accfd82e813a41925f34f063cdbd1e83d">More...</a><br/></td></tr>
<tr class="separator:accfd82e813a41925f34f063cdbd1e83d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8b263963584e6d27a890fb8d2ec797"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00324.html#add8b263963584e6d27a890fb8d2ec797">translate_chain_star</a></td></tr>
<tr class="memdesc:add8b263963584e6d27a890fb8d2ec797"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trick function for multiprocessing.  <a href="#add8b263963584e6d27a890fb8d2ec797">More...</a><br/></td></tr>
<tr class="separator:add8b263963584e6d27a890fb8d2ec797"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aff12e7e8dcdbe63d7b6fcf2369fa0368"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def montepython.importance_sampling.recover_new_experiments </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>starting_folder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given the input, extract the additional likelihoods. </p>

<p>Definition at line <a class="el" href="a00217_source.html#l00124">124</a> of file <a class="el" href="a00217_source.html">importance_sampling.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00324_aff12e7e8dcdbe63d7b6fcf2369fa0368_cgraph.png" border="0" usemap="#a00324_aff12e7e8dcdbe63d7b6fcf2369fa0368_cgraph" alt=""/></div>
<map name="a00324_aff12e7e8dcdbe63d7b6fcf2369fa0368_cgraph" id="a00324_aff12e7e8dcdbe63d7b6fcf2369fa0368_cgraph">
<area shape="rect" id="node3" href="a00324.html#accfd82e813a41925f34f063cdbd1e83d" title="Translate the input to the output. " alt="" coords="232,14,419,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a00c2a268603b9239d08f870fdc381212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def montepython.importance_sampling.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cosmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performing the Importance Sampling. </p>
<p>The idea is to start from an existing run, constraining a certain model I, given a set of experiments. The new run will constrain the same model I, but adding one or several new experiments. In the case where it is expected that the final posterior distribution should not differ too greatly between the two parameter extractions, then using Importance Sampling can speed up significantly the second one.</p>
<p>Instead of properly sampling randomly the parameter space, it instead reads the chains from the previous run, recompute the cosmology at this point, then adds the log-likelihood contributed by the new experiments to the previous ones. As an input of the method, with the flag <code>--IS-starting-folder</code>, you can thus specify either a folder containing a Monte Python run, or a set of chains that you want to be converted.</p>
<p>The code will automatically compute the minimum amount of things. For instance, if the first run had all the Planck likelihoods, and the second, all the Planck likelihoods plus a prior on :math:<code>H_0</code>, it would be absurd to recompute also the cosmological perturbations: the only needed quantity is a background quantity.</p>
<p>The new chains will hence store the same points in parameter space, but with a different value of the likelihood, and also of the multiplicity - that will become non-integer. Indeed, the multiplicity is also a probe of the posterior, and this new, higher likelihood should have had a higher multiplicity. </p>

<p>Definition at line <a class="el" href="a00217_source.html#l00053">53</a> of file <a class="el" href="a00217_source.html">importance_sampling.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00324_a00c2a268603b9239d08f870fdc381212_cgraph.png" border="0" usemap="#a00324_a00c2a268603b9239d08f870fdc381212_cgraph" alt=""/></div>
<map name="a00324_a00c2a268603b9239d08f870fdc381212_cgraph" id="a00324_a00c2a268603b9239d08f870fdc381212_cgraph">
<area shape="rect" id="node3" href="a00324.html#aff12e7e8dcdbe63d7b6fcf2369fa0368" title="Given the input, extract the additional likelihoods. " alt="" coords="233,5,409,69"/><area shape="rect" id="node5" href="a00324.html#accfd82e813a41925f34f063cdbd1e83d" title="Translate the input to the output. " alt="" coords="459,14,645,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="accfd82e813a41925f34f063cdbd1e83d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def montepython.importance_sampling.translate_chain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cosmo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command_line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>starting_folder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chain_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore_likelihood</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translate the input to the output. </p>
<p>.. note:: </p>
<pre class="fragment">If the keyword argument `ignore_likelihood` is set to true, the
previous value of the likelihood is discarded.</pre> 
<p>Definition at line <a class="el" href="a00217_source.html#l00159">159</a> of file <a class="el" href="a00217_source.html">importance_sampling.py</a>.</p>

</div>
</div>
<a class="anchor" id="add8b263963584e6d27a890fb8d2ec797"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def montepython.importance_sampling.translate_chain_star </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trick function for multiprocessing. </p>

<p>Definition at line <a class="el" href="a00217_source.html#l00193">193</a> of file <a class="el" href="a00217_source.html">importance_sampling.py</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00324_add8b263963584e6d27a890fb8d2ec797_cgraph.png" border="0" usemap="#a00324_add8b263963584e6d27a890fb8d2ec797_cgraph" alt=""/></div>
<map name="a00324_add8b263963584e6d27a890fb8d2ec797_cgraph" id="a00324_add8b263963584e6d27a890fb8d2ec797_cgraph">
<area shape="rect" id="node3" href="a00324.html#accfd82e813a41925f34f063cdbd1e83d" title="Translate the input to the output. " alt="" coords="272,5,459,51"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 20 2014 03:56:32 for GravImage by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
